<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="theme-color" content="<%= locals.seo.themeColor %>">

<!-- SEO Meta Tags -->
<% if (locals.pageDescription) { %>
<meta name="description" content="<%= locals.pageDescription %>">
<% } else { %>
<meta name="description" content="<%= locals.seo.defaultDescription %>">
<% } %>

<!-- Canonical URL -->
<% if (locals.pageCanonical) { %>
<link rel="canonical" href="<%= locals.seo.siteUrl %><%= locals.pageCanonical %>">
<% } %>

<!-- Open Graph / Facebook -->
<meta property="og:type" content="<%= locals.pageType || 'website' %>">
<meta property="og:site_name" content="<%= locals.seo.siteName %>">
<% if (locals.pageCanonical) { %>
<meta property="og:url" content="<%= locals.seo.siteUrl %><%= locals.pageCanonical %>">
<% } %>
<% if (locals.pageTitle) { %>
<meta property="og:title" content="<%= locals.pageTitle %>">
<% } else { %>
<meta property="og:title" content="<%= locals.seo.defaultTitle %>">
<% } %>
<% if (locals.pageDescription) { %>
<meta property="og:description" content="<%= locals.pageDescription %>">
<% } else { %>
<meta property="og:description" content="<%= locals.seo.defaultDescription %>">
<% } %>
<% if (locals.pageImage) { %>
<meta property="og:image" content="<%= locals.seo.siteUrl %><%= locals.pageImage %>">
<% } else { %>
<meta property="og:image" content="<%= locals.seo.siteUrl %><%= locals.seo.defaultImage %>">
<% } %>
<meta property="og:locale" content="<%= locals.seo.locale %>">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="<%= locals.seo.twitterHandle %>">
<meta name="twitter:creator" content="<%= locals.seo.twitterHandle %>">
<% if (locals.pageTitle) { %>
<meta name="twitter:title" content="<%= locals.pageTitle %>">
<% } else { %>
<meta name="twitter:title" content="<%= locals.seo.defaultTitle %>">
<% } %>
<% if (locals.pageDescription) { %>
<meta name="twitter:description" content="<%= locals.pageDescription %>">
<% } else { %>
<meta name="twitter:description" content="<%= locals.seo.defaultDescription %>">
<% } %>
<% if (locals.pageImage) { %>
<meta name="twitter:image" content="<%= locals.seo.siteUrl %><%= locals.pageImage %>">
<% } else { %>
<meta name="twitter:image" content="<%= locals.seo.siteUrl %><%= locals.seo.defaultImage %>">
<% } %>

<!-- Preconnect to Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

<!-- Stylesheet -->
<link rel='stylesheet' href='./style.scss'/>

<!-- Favicon -->
<link rel="icon" type="image/png" href="./mediakit/logo/110x110-white.png">
<link rel="apple-touch-icon" href="./mediakit/logo/110x110-white.png">

<% if (process.env.CRISP_WEBSITE_ID) { %>
<!-- Crisp -->
<script type="text/javascript">
    window.$crisp=[];
    window.CRISP_WEBSITE_ID="<%= process.env.CRISP_WEBSITE_ID %>";
    (function(){d=document;s=d.createElement("script");s.src="https://client.crisp.chat/l.js";s.async=1;d.getElementsByTagName("head")[0].appendChild(s);})();
</script>
<% } %>

<% if (process.env.MATOMO_URL && process.env.MATOMO_SITE_ID) { %>
<!-- Matomo -->
<script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
    var u="<%= process.env.MATOMO_URL %>";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '<%= process.env.MATOMO_SITE_ID %>']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
    })();
</script>
<!-- End Matomo Code -->
<% } %>

<!-- Structured Data -->
<% if (locals.pageSchema) { %>
<script type="application/ld+json">
<%- JSON.stringify(locals.pageSchema, null, 2) %>
</script>
<% } else { %>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "Hook0",
  "url": "<%= locals.seo.siteUrl %>",
  "logo": "<%= locals.seo.siteUrl %>/mediakit/logo/110x110-white.png",
  "description": "<%= locals.seo.defaultDescription %>",
  "foundingDate": "2021",
  "founders": [
    {
      "@type": "Person",
      "name": "Francois-Guillaume Ribreau"
    },
    {
      "@type": "Person",
      "name": "David Sferruzza"
    }
  ],
  "sameAs": [
    "<%= locals.social.twitter.href %>",
    "<%= locals.social.github.href %>",
    "<%= locals.social.linkedin.href %>",
    "<%= locals.social.youtube.href %>",
    "<%= locals.social.discord.href %>"
  ],
  "contactPoint": {
    "@type": "ContactPoint",
    "email": "support@hook0.com",
    "contactType": "customer service"
  }
}
</script>
<% } %>

<!-- Scroll Animation Script -->
<script defer>
document.addEventListener('DOMContentLoaded', function() {
    // Intersection Observer for scroll-triggered animations
    const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
    };

    const observer = new IntersectionObserver(function(entries) {
        entries.forEach(function(entry) {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                observer.unobserve(entry.target);
            }
        });
    }, observerOptions);

    document.querySelectorAll('.animate-on-scroll').forEach(function(el) {
        observer.observe(el);
    });

    // Header scroll effect
    const header = document.getElementById('main-header');
    if (header) {
        var lastScroll = 0;
        window.addEventListener('scroll', function() {
            var currentScroll = window.pageYOffset;
            if (currentScroll > 50) {
                header.classList.add('header-scrolled');
            } else {
                header.classList.remove('header-scrolled');
            }
            lastScroll = currentScroll;
        }, { passive: true });
    }

    // Card glow effect (mouse tracking)
    document.querySelectorAll('.card--glow').forEach(function(card) {
        card.addEventListener('mousemove', function(e) {
            var rect = card.getBoundingClientRect();
            var x = e.clientX - rect.left;
            var y = e.clientY - rect.top;
            card.style.setProperty('--mouse-x', x + 'px');
            card.style.setProperty('--mouse-y', y + 'px');
        });
    });
});
</script>
